<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" 
	th:replace="normal/base::layout(~{::section})">
	
	<head>
		<meta charset="UTF-8"/>
		<title>TaskList Dashboard</title>
	</head>

	<body>
				<section class="banner1 d-flex justify-content-center align-items-center">
				
					<div class="class">
							<div class="card">
							
								<div class="card-body">
								
									<h1 class="text-center">Your Tasks</h1></br></br>
							
									<table class="table">
									
				  						<thead>
											    <tr>
												      <th scope="col">#ID</th>
												      <th scope="col">TASK_TITLE</th>
												      <th scope="col">TASK_CONTENT</th>
												      <th scope="col">TASK_ACTION</th>
											    </tr>
										  </thead>
										  
										  
										  <tbody>
										  
										    <tr th:each="c : ${tasks}">
											      <th scope="row" th:text="${c.cId}"></th>
											      <th th:text="${c.title}"></th>
											      <th th:text="${c.content}"></th>
											      <td>
											      		<a href="#" th:onclick="|deleteTask(${c.cId})|" 
											      			class="btn btn-danger btn-sm">DELETE</a>
											      		
											      		<form method="POST" th:action="@{'/user/update-contact/'+${c.cId}}"
											      			 class="mt-2">
											      			<button type=submit class="btn btn-success btn-sm">UPDATE</button>
											      		</form>
											      </td>
										    </tr>
										   
										  </tbody>
										  
										</table>
				
				
								<!--pagination starts-->
								<nav aria-label="Page navigation example">
								
								  <ul class="pagination">
								  
									    <li th:if="${currentPage != 0}" class="page-item"><a th:href="@{'/user/show-contacts/'+${currentPage-1}}"
									    	class="page-link" href="#">Previous</a></li>
									    
									    <li th:classappend="${currentPage==i-1?'active':''}" 
									    th:each="i : ${#numbers.sequence(1,totalPages)}" class="page-item">
									    
									    <a th:href="@{'/user/show-contacts/'+${i-1}}"class="page-link" href="#"><span th:text="${i}"></span></a></li>
									    
									    <li th:if="${currentPage+1 != totalPages}" class="page-item"><a th:href="@{'/user/show-contacts/'+${currentPage+1}}"class="page-link" href="#">Next</a></li>
									    
								  </ul>
								  
								</nav>
				
						</div>
						
					</div>
					
				</div>
				
		</section>
	</body>
</html>